# aiSSEMBLE&trade; Inference Helm Chart
Baseline Helm chart for packaging and deploying inference applications. Chart is built and managed during the normal Maven build lifecycle and placed in the **target/helm/repo** directory. See https://github.com/kokuwaio/helm-maven-plugin for more details. 

# Basic usage with Helm CLI
To use the module, perform [extension-helm setup](../README.md#leveraging-extensions-helm) and override the image and tag with the desired image built from the aiSSEMBLE-generated inference image. For example:
```bash
helm install inference ghcr.io/boozallen/aissemble-inference-chart --version <AISSEMBLE-VERSION> 
```
**Note**: *the version should match the aiSSEMBLE project version.*

# Properties
| Property                                | Description                                                                                                                      | Required Override | Default                                                                                                |
|-----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|-------------------|--------------------------------------------------------------------------------------------------------|
 | app.name                                | Sets label for app.kubernetes.io/name                                                                                            | No                | Chart.Name (aissemble-inference)                                                                       |
| app.version                             | Sets label for app.kubernetes.io/version                                                                                         | No                | Chart.AppVersion (aiSSEMBLE project version)                                                           |
| deployment.image.repo                   | The image repository                                                                                                             | No                | NB: OSS: update with default aissemble docker repository                                               | 
| deployment.image.name                   | The image name                                                                                                                   | Yes               | boozallen/aissemble-fastapi                                                                            | 
| deployment.image.tag                    | The image tag. Will override the default chart AppVersion value                                                                  | No                | Chart.AppVersion                                                                                       |
| deployment.image.imagePullPolicy        | The image pull policy                                                                                                            | No                | IfNotPresent                                                                                           |
| deployment.volumes                      | The volumes for the pod                                                                                                          | No                | None                                                                                                   | 
| deployment.volumeMounts                 | The volume mounts for the pod                                                                                                    | No                | None                                                                                                   | 
| deployment.securityContext              | The security context for the pod                                                                                                 | No                | None                                                                                                   | 
| deployment.serviceAccountName           | The service account for the pod                                                                                                  | No                | Default user in the cluster namespace                                                                  | 
| deployment.automountServiceAccountToken | Whether or not to mount service account token. Should be disabled unless the pod requires specific access to the Kubernetes APIs | No                | false                                                                                                  | 
| deployment.env                          | The environment variables for the pod                                                                                            | No                | None                                                                                                   | 
| deployment.args                         | The args for the pod                                                                                                             | No                | None                                                                                                   | 
| deployment.hostname                     | The hostname for the pod. Overrides the Chart.Name value                                                                         | No                | Chart.Name                                                                                             | 
| deployment.restartPolicy                | The restart policy                                                                                                               | No                | Always                                                                                                 | 
| service.type                            | The service type                                                                                                                 | No                | ClusterIP                                                                                              | 
| service.ports                           | The service ports                                                                                                                | No                | - name: api <br/>&emsp;&emsp;port: 8000<br/>&emsp;&emsp;protocol: TCP<br/>&emsp;&emsp;targetPort: 8000 |
| namespaceOverride                       | Namespace to deploy to instead of the Helm release namespace                                                                     | No                | .Release.Namespace                                                                                     |

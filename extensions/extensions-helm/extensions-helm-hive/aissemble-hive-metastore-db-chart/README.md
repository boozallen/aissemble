# aiSSEMBLE Hive Metastore DB Helm Chart
Baseline Helm chart for packaging and deploying Hive Metastore MySql Databases. Chart is built and managed during the normal Maven build lifecycle and placed in the **target/helm/repo** directory. See https://github.com/kokuwaio/helm-maven-plugin for more details. 

# Basic usage with Helm CLI
To use the module, perform [extension-helm setup](../README.md#leveraging-extensions-helm) and override the chart version with the desired aiSSEMBLE version. For example:
```bash
helm install hive-metastore-db ghcr.io/boozallen/aissemble-hive-metastore-db-chart --version <AISSEMBLE-VERSION>
```
**Note**: *the version should match the aiSSEMBLE project version.*

# Properties
| Property                      | Description                                 | Required Override | Default                                                                                                                                                                                                                                                      |
|-------------------------------|---------------------------------------------|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| app.name                      | Sets label for app.kubernetes.io/name       | No                | Chart.Name (aissemble-hive-metastore-db)                                                                                                                                                                                                                     |
| app.version                   | Sets label for app.kubernetes.io/version    | No                | Chart.AppVersion (aiSSEMBLE project version)                                                                                                                                                                                                                 |
| replicaCount                  | Sets desired number of replicas (instances) | No                | 1                                                                                                                                                                                                                                                            |
| hostname                      | The hostname for the application            | No                | hive-metastore-db                                                                                                                                                                                                                                            |
| image.name                    | The image name                              | Yes               | boozallen/aissemble-hive-mysql                                                                                                                                                                                                                               |
| image.imagePullPolicy         | The image pull policy                       | No                | Always (ensures local docker image is pulled, rather than from remote repo)                                                                                                                                                                                  |
| image.dockerRepo              | The image docker repository                 | No                | NB: OSS: update with default aissemble docker repository                                                                                                                                                                                                     |
| image.tag                     | The image tag                               | No                | Chart.AppVersion                                                                                                                                                                                                                                             |
| deployment.env                | The environment variables for the pod       | No                | &emsp;- name: MYSQL_DATABASE <br/>&emsp;&emsp;value: metastore <br/>&emsp;- name: MYSQL_PASSWORD <br/>&emsp;&emsp;value: hive <br/>&emsp;- name: MYSQL_ROOT_PASSWORD <br/>&emsp;&emsp;value: hive <br/>&emsp;- name: MYSQL_USER <br/>&emsp;&emsp;value: hive |
| deployment.ports              | The deployment ports                        | No                | &emsp;- name: "http-1" <br/>&emsp;&emsp;containerPort: 3306 <br/>&emsp;&emsp;protocol: TCP                                                                                                                                                                   |
| deployment.restartPolicy      | The deployment restart policy               | No                | Always                                                                                                                                                                                                                                                       |
| service.spec.ports            | The service spec ports                      | No                | &emsp;- name: "3306" <br/>&emsp;&emsp;port: 3306 <br/>&emsp;&emsp;targetPort: 3306                                                                                                                                                                           |
# aiSSEMBLE&trade; Quarkus Helm Chart
Baseline Helm chart for packaging and deploying Quarkus web applications. Chart is built and managed during the normal Maven build lifecycle and placed in the **target/helm/repo** directory. See https://github.com/kokuwaio/helm-maven-plugin for more details. 

# Basic usage with Helm CLI
To use the module, perform [extension-helm setup](../README.md#leveraging-extensions-helm) and override the image and tag with the desired image built from the aiSSEMBLE Quarkus baseline image. For example:
```bash
helm install my-quarkus-app oci://ghcr.io/boozallen/aissemble-quarkus-chart --version <AISSEMBLE-VERSION>
```
**Note**: *the version should match the aiSSEMBLE project version.*

# Properties
| Property                                | Description                                                                                                                      | Required Override | Default                                                                                                                                                                        |
|-----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
 | app.name                                | Sets label for app.kubernetes.io/name                                                                                            | No                | Chart.Name (aissemble-quarkus-chart)                                                                                                                                           |
| app.version                             | Sets label for app.kubernetes.io/version                                                                                         | No                | Chart.AppVersion (aiSSEMBLE project version)                                                                                                                                   |
| deployment.image.repo                   | The image repository                                                                                                             | No                | NB: OSS: update with aissemble docker repository                                                                                                                               | 
| deployment.image.name                   | The image name                                                                                                                   | Yes               | boozallen/aissemble-quarkus                                                                                                                                                    | 
| deployment.image.tag                    | The image tag. Will override the default chart AppVersion value                                                                  | No                | Chart.AppVersion                                                                                                                                                               |
| deployment.image.imagePullPolicy        | The image pull policy                                                                                                            | No                | IfNotPresent                                                                                                                                                                   |
| deployment.volumes                      | The volumes for the pod                                                                                                          | No                | `/deployments/application.properties=quarkus_application_properties`                                                                                                           | 
| deployment.volumeMounts                 | The volume mounts for the pod                                                                                                    | No                | `quarkus_application_properties=supplemental-quarkus-config`                                                                                                                   |
| deployment.supplementalVolumes          | Override opportunity to provide additional volumes without disrupting base functionality                                         | No                | []                                                                                                                                                                             |
| deployment.supplementalVolumeMounts     | Override opportunity to provide additional volume mounts without disrupting base functionality                                   | No                | []                                                                                                                                                                             |
| deployment.securityContext              | The security context for the pod                                                                                                 | No                | None                                                                                                                                                                           | 
| deployment.serviceAccountName           | The service account for the pod                                                                                                  | No                | Default user in the cluster namespace                                                                                                                                          | 
| deployment.automountServiceAccountToken | Whether or not to mount service account token. Should be disabled unless the pod requires specific access to the Kubernetes APIs | No                | false                                                                                                                                                                          | 
| deployment.env                          | The environment variables for the pod                                                                                            | No                | None                                                                                                                                                                           | 
| deployment.args                         | The args for the pod                                                                                                             | No                | None                                                                                                                                                                           | 
| deployment.hostname                     | The hostname for the pod. Overrides the Chart.Name value                                                                         | No                | Chart.Name                                                                                                                                                                     | 
| deployment.restartPolicy                | The restart policy                                                                                                               | No                | Always                                                                                                                                                                         | 
| service.type                            | The service type                                                                                                                 | No                | ClusterIP                                                                                                                                                                      | 
| service.ports                           | The service ports                                                                                                                | No                | - name: http <br/>&emsp;&emsp;port: 8080<br/>&emsp;&emsp;protocol: TCP<br/>&emsp;&emsp;targetPort: 8080                                                                        |
| configMap.supplementalQuarkusConfig     | List of additional properties to provide to the Quarkus app                                                                      | No                | []                                                                                                                                                                             |
| ingress.enabled                         | Whether or not exposes the http and https routes from outside the cluster to services within the cluster                         | No                | false                                                                                                                                                                          |
| ingress.metadata.annotations            | The annotations for configuration                                                                                                | No                | None                                                                                                                                                                           |
| ingress.hosts                           | List of hosts specified for ingress                                                                                              | No                | None<br/> Note: For more information about setting up host, ref: [Ingress Spec](https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressSpec) |

